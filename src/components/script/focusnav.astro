<script>
  // Function to remove highlighting classes from all links
  function removeHighlightingFromLinks() {
    const links = document.querySelectorAll('.nav-link')
    links.forEach(link => {
      link.classList.remove(
        'bg-blue-700',
        'dark:bg-blue-600',
        'md:bg-transparent',
        'text-white',
        'md:text-blue-700',
        'dark:text-gray-400'
      )
    })
  }

  // Function to highlight a specific link
  function highlightLink(linkSelector) {
    const link = document.querySelector(linkSelector)
    link.classList.add(
      'bg-blue-700',
      'dark:bg-blue-600',
      'md:bg-transparent',
      'text-white',
      'md:text-blue-700',
      'dark:text-gray-400'
    )
  }

  // Get the current URL path
  const currentPath = window.location.pathname

  // Check for different pages and highlight corresponding links
  if (currentPath.includes('/blog')) {
    highlightLink('a[href="/blog"]')
  } else if (currentPath.includes('/time')) {
    highlightLink('a[href="/time"]')

    // Add more links to highlight for the "other-page" here if needed
  } else if (currentPath.includes('/#another-page')) {
    highlightLink('a[href="/another-page"]')
    // highlightLink("#dropdownNavbarLink");
  } else {
    // Default highlighting for the home page
    highlightLink('a[href="/"]')
  }

  // Add event listener to handle dropdown toggle
  const dropdownToggle = document.getElementById('dropdownNavbarLink')
  dropdownToggle.addEventListener('click', function () {
    if (this.getAttribute('aria-expanded') === 'true') {
      // When dropdown is open
      highlightLink('#dropdownNavbarLink')
    } else {
      // When dropdown is closed
      const databaseLink = document.getElementById('dropdownNavbarLink')
      databaseLink.classList.remove(
        'text-white',
        'md:text-blue-700',
        'dark:text-gray-400'
      )
    }
  })
</script>
